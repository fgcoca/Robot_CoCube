
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Web con información y programación del robot CoCube, un robot educativo de escritorio que incorpora inteligencia artificial. CoCube es un robot muy pequeño que integra comunicación inalámbrica, pantalla, interacción por voz y otras funciones. Incorpora una batería que le permite moverse con flexibilidad.">
      
      
        <meta name="author" content="Federico Coca">
      
      
        <link rel="canonical" href="https://fgcoca.github.io/Robot_CoCube/cocube/sentry2_trafico/">
      
      
        <link rel="prev" href="../sentry2_color/">
      
      
        <link rel="next" href="../sentry2_linea/">
      
      
      <link rel="icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.5">
    
    
      
        <title>Tráfico inteligente con Sentry2 - Robot CoCube</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6a10b989.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="deep-purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#objetivo" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Robot CoCube" class="md-header__button md-logo" aria-label="Robot CoCube" data-md-component="logo">
      
  <img src="../../img/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Robot CoCube
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tráfico inteligente con Sentry2
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="deep-purple"  aria-label="Modo Oscuro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Modo Oscuro" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="light-blue" data-md-color-accent="deep-purple"  aria-label="Modo Claro"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Modo Claro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/fgcoca/Robot_CoCube" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Robot_CoCube
  </div>
</a>
      </div>
    
  </nav>
  
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Robot CoCube" class="md-nav__button md-logo" aria-label="Robot CoCube" data-md-component="logo">
      
  <img src="../../img/favicon.png" alt="logo">

    </a>
    Robot CoCube
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/fgcoca/Robot_CoCube" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Robot_CoCube
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../lcd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Progamación de la pantalla LCD
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../movimientos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Movimientos
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../posicionamiento/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Posicionamiento
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../sonidos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sonidos
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../pinza/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Servo con pinza
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../broadcast/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eventos de transmisión o broadcast
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../teclado/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Control por eventos de teclado
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../com_UDP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comunicaciones UDP
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../remoto_wifi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Control remoto mediante APP
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../sentry2_color/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reconocimiento de color con Sentry2
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Tráfico inteligente con Sentry2
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Tráfico inteligente con Sentry2
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objetivo" class="md-nav__link">
    Objetivo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#materiales" class="md-nav__link">
    Materiales
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#informacion-de-algoritmos-de-sentry2" class="md-nav__link">
    Información de algoritmos de Sentry2
  </a>
  
    <nav class="md-nav" aria-label="Información de algoritmos de Sentry2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    Introducción
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devolucion-de-resultados" class="md-nav__link">
    Devolución de resultados
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consejos-de-uso" class="md-nav__link">
    Consejos de uso
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explicacion-de-los-bloques-necesarios" class="md-nav__link">
    Explicación de los bloques necesarios
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#programacion-de-ejemplo-base" class="md-nav__link">
    Programación de ejemplo base
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#programa-para-seguir-las-senales-de-trafico" class="md-nav__link">
    Programa para seguir las señales de tráfico
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../sentry2_linea/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reconocimiento de línea con Sentry2
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../sentry2_april/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reconocimiento de etiquetas Apriltag
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../retos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retos
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
        
          
          <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Miscelanea
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            Miscelanea
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscelanea/about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Autor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscelanea/lic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Licencias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscelanea/soft/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software utilizado
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objetivo" class="md-nav__link">
    Objetivo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#materiales" class="md-nav__link">
    Materiales
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#informacion-de-algoritmos-de-sentry2" class="md-nav__link">
    Información de algoritmos de Sentry2
  </a>
  
    <nav class="md-nav" aria-label="Información de algoritmos de Sentry2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    Introducción
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devolucion-de-resultados" class="md-nav__link">
    Devolución de resultados
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consejos-de-uso" class="md-nav__link">
    Consejos de uso
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explicacion-de-los-bloques-necesarios" class="md-nav__link">
    Explicación de los bloques necesarios
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#programacion-de-ejemplo-base" class="md-nav__link">
    Programación de ejemplo base
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#programa-para-seguir-las-senales-de-trafico" class="md-nav__link">
    Programa para seguir las señales de tráfico
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Tráfico inteligente con Sentry2</h1>

<h2 id="objetivo"><FONT COLOR=#007575><strong>Objetivo</strong></font><a class="headerlink" href="#objetivo" title="Permanent link">&para;</a></h2>
<p>Programa el robot CoCube para que reconozca las señales de tráfico (tarjetas que acompañan al kit) y realice automáticamente las acciones correspondientes, creando así un entorno de pruebas inteligente para el tráfico.</p>
<p>Durante el proceso, se aprende sobre la tecnología de inteligencia artificial en la visión de imágenes.</p>
<p>El video siguiente muestra la idea que se pretende programar.</p>
<p><center></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Um1ZYU-2KoY?si=CZfQYAnOj_tsyaNN" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

<p></center></p>
<h2 id="materiales"><FONT COLOR=#007575><strong>Materiales</strong></font><a class="headerlink" href="#materiales" title="Permanent link">&para;</a></h2>
<p>Robot CoCube, conector soporte para Sentry2, tarjetas de tráfico del kit y ordenador ejecutando el IDE de MicroBlocks en cualquiera de sus versiones, estable instalada localmente o versiones online tanto estable como pilot. En cualquier caso tenemos que añadir las bibliotecas <strong>CoCube</strong>, <strong>CoCube module</strong> y <strong>Sentry2 AI camera</strong>.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/CoCube/mat09.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Materiales" src="../../img/CoCube/mat09.png" /></a></p>
<p></center></p>
<p>Hay que realizar la conexión de de dispostivos colocando el soporte para la Sentry2, con la cámara colocada, en el conector de expansión del CoCube. El conector con 4 cables hay que colocarlo en el conector I2C de la cámara.</p>
<h2 id="informacion-de-algoritmos-de-sentry2"><FONT COLOR=#007575><strong>Información de algoritmos de Sentry2</strong></font><a class="headerlink" href="#informacion-de-algoritmos-de-sentry2" title="Permanent link">&para;</a></h2>
<h3 id="introduccion"><FONT COLOR=#AA0000>Introducción</font><a class="headerlink" href="#introduccion" title="Permanent link">&para;</a></h3>
<p><center></p>
<p><a class="glightbox" href="../../img/CoCube/id6_res.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Color" src="../../img/CoCube/id6_res.png" /></a>  </p>
<p></center></p>
<p>Identifica si hay patrones de tarjetas específicos en la imagen y devuelva información como las coordenadas de las tarjetas, el tamaño, las etiquetas de clasificación, etc. Incluye señales de tráfico, símbolos gráficos y números. Las etiquetas de clasificación se muestran en la tabla siguiente.</p>
<p><strong>Señales de tráfico</strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;"><mark><strong>Etiqueta</strong></mark></th>
<th><mark><strong>Identif.</strong></mark></th>
<th><mark><strong>Significado</strong></mark></th>
<th style="text-align: center;"><mark><strong>Etiqueta</strong></mark></th>
<th><mark><strong>Identif.</strong></mark></th>
<th><mark><strong>Significado</strong></mark></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">1</td>
<td>Forward</td>
<td>Adelante</td>
<td style="text-align: center;">2</td>
<td>Left</td>
<td>Izquierda</td>
</tr>
<tr>
<td style="text-align: center;">3</td>
<td>Right</td>
<td>Derecha</td>
<td style="text-align: center;">4</td>
<td>Turn Around</td>
<td>Cambio de sentido</td>
</tr>
<tr>
<td style="text-align: center;">5</td>
<td>Park</td>
<td>Aparcamiento</td>
<td style="text-align: center;">6</td>
<td>Green</td>
<td>Verde</td>
</tr>
<tr>
<td style="text-align: center;">7</td>
<td>Red</td>
<td>Rojo</td>
<td style="text-align: center;">8</td>
<td>Speed 40</td>
<td>Vel. máxima 40</td>
</tr>
<tr>
<td style="text-align: center;">9</td>
<td>Speed 60</td>
<td>Vel. máxima 60</td>
<td style="text-align: center;">10</td>
<td>Speed 80</td>
<td>Vel. máxima 80</td>
</tr>
</tbody>
</table>
<h3 id="devolucion-de-resultados"><FONT COLOR=#AA0000>Devolución de resultados</font><a class="headerlink" href="#devolucion-de-resultados" title="Permanent link">&para;</a></h3>
<p><center></p>
<p><a class="glightbox" href="../../img/CoCube/id6_resul.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Devolución de resultados" src="../../img/CoCube/id6_resul.png" /></a>  </p>
<p></center></p>
<p>Este algoritmo admite el reconocimiento simultáneo de varias tarjetas. Las tarjetas giradas hasta 30 grados pueden reconocerse; las rotaciones excesivas no pueden reconocerse.</p>
<p>Al leer los registros a través del controlador principal, se devolverán los siguientes datos:</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><mark><strong>Resultado</strong></mark></th>
<th><mark><strong>Significado</strong></mark></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">1</td>
<td>Coordenada X del centro del bloque de color</td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td>Coordenada Y del centro del bloque de color</td>
</tr>
<tr>
<td style="text-align: center;">3</td>
<td>Ancho del bloque 'w'</td>
</tr>
<tr>
<td style="text-align: center;">4</td>
<td>Alto del bloque 'h'</td>
</tr>
<tr>
<td style="text-align: center;">5</td>
<td>Etiquetas de clasificación</td>
</tr>
</tbody>
</table>
<h3 id="consejos-de-uso"><FONT COLOR=#AA0000>Consejos de uso</font><a class="headerlink" href="#consejos-de-uso" title="Permanent link">&para;</a></h3>
<ol>
<li>Este algoritmo puede detectar tarjetas a gran distancia, pero esta no será la situación de detección deseada por el usuario. Para solucionar este caso, se puede utilizar el "ancho de la tarjeta" para excluir aquellas tarjetas que se encuentren lejos. Por ejemplo, las acciones solo se activarán cuando el ancho de la tarjeta sea superior al 50%.</li>
<li>Cuando hay varias tarjetas en la imagen (por ejemplo, una fila de tarjetas), el orden de detección se basa en el punto central de la tarjeta, escaneando fila por fila desde la esquina superior izquierda (0,0), de arriba abajo y de izquierda a derecha.</li>
</ol>
<h3 id="explicacion-de-los-bloques-necesarios"><FONT COLOR=#AA0000>Explicación de los bloques necesarios</font><a class="headerlink" href="#explicacion-de-los-bloques-necesarios" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Inicialización de Sentry2</strong>
Es un parámetro opcional que determina la dirección I2C del dispositivo. El valor por defecto es 96 (0x60) de entre el rango válido que va desde 96 (0x60) hasta 99 (0x63).</li>
</ul>
<p>Antes de poder usar Sentry2, debes inicializarla mediante el bloque de la imagen, que por lo general, se coloca debajo de un bloque tipo sombrero "al empezar".</p>
<p><center></p>
<p><a class="glightbox" href="../../img/CoCube/B_inic_sentry2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque para inicializar Sentry2" src="../../img/CoCube/B_inic_sentry2.png" /></a>  </p>
<p></center></p>
<ul>
<li><strong>Establecer modo de Sentry2</strong></li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/CoCube/B_est_modo_sentry2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque Establecer modo de Sentry2" src="../../img/CoCube/B_est_modo_sentry2.png" /></a>  </p>
<p></center></p>
<p>Debes establecer el modo en tarjeta (card), es decir, el modo de reconocimiento de tarjetas de señal de tráfico.</p>
<ul>
<li><strong>Resultados de las pruebas de Sentry2</strong></li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/CoCube/B_res_pruebas_sentry2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque resultados de las pruebas de Sentry2" src="../../img/CoCube/B_res_pruebas_sentry2.png" /></a>  </p>
<p></center></p>
<p>Antes de usar este bloque, debes asegurarte de que el modo de algoritmo de tarjeta esté habilitado.</p>
<p>Este bloque es también el bloque utilizado para desencadenar la detección, y solamente después de utilizar este bloque se pueden obtener resultados de detección.</p>
<p>El resultado devuelto es el número de resultados reconocidos por el algoritmo de tarjeta actual.</p>
<ul>
<li><strong>Sentry2 Tarjeta detectada</strong></li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/CoCube/B_sentry2_tarj_detec.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque Sentry2 Tarjeta detectada" src="../../img/CoCube/B_sentry2_tarj_detec.png" /></a>  </p>
<p></center></p>
<p>Devuelve el atributo de etiqueta del identificador del objeto detectado. Este bloque determina si el objeto con el identificador 1 es una tarjeta de avanzar; si es así, devuelve True; de lo contrario, devuelve False.</p>
<ul>
<li><strong>Sentry2 detecta los atributos del objeto</strong></li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/CoCube/B_atrib_obj.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Sentry2 detecta los atributos del objeto" src="../../img/CoCube/B_atrib_obj.png" /></a>  </p>
<p></center></p>
<p>Devuelve los atributos del identificador del objeto detectado, incluida la coordenada 'X' central del parche de color, la coordenada 'Y' del centro del parche de color, la anchura del parche de color 'w', la altura 'h' del parche de color y la etiqueta.</p>
<p>Cada una de estas etiquetas corresponde a una categoría de tarjeta diferente (por ejemplo, luz roja, luz verde, números, etc.)</p>
<h2 id="programacion-de-ejemplo-base"><FONT COLOR=#007575><strong>Programación de ejemplo base</strong></font><a class="headerlink" href="#programacion-de-ejemplo-base" title="Permanent link">&para;</a></h2>
<p><font color=#FF0000><strong>&#x2460;</strong></font> Conecta el IDE de MicroBlocks al robot CoCube a través de cable USB o por medios inalámbricos. Coloca el accesorio con la cámara Sentry2 en el conector magnético delantero.</p>
<p><font color=#FF0000><strong>&#x2461;</strong></font> Debes agregar las bibliotecas <strong>Sentry2 AI camera</strong>, <strong>CoCube</strong> y <strong>CoCube module</strong>.</p>
<p><font color=#FF0000><strong>&#x2462;</strong></font> Debajo de un bloque sombrero "al empezar" coloca el bloque "activa la alimentación del módulo" para que la Sentry2 se alimente a través del conector I2C. A continuación inicializa la interfaz I2C y coloca una espera de 4 segundos para dar tiempo a que el módulo de la cámara se inicie correctamente y, a continuación, establece el modo de algoritmo de la cámara en modo card (tarjeta) para detectar la información de la tarjeta.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/CoCube/P_detec_color_ini.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Programa &quot;al comenzar&quot;" src="../../img/CoCube/P_detec_color_ini.png" /></a>  </p>
<p></center></p>
<p><font color=#FF0000><strong>&#x2463;</strong></font> En primer lugar, debemos utilizar el bloque "Sentry2 detectd card <strong>...</strong> objid ##", que determina si el resultado de la detección de la etiqueta de la tarjeta con el número de secuencia de identificación "##" es "**".</p>
<p><center></p>
<p><a class="glightbox" href="../../img/CoCube/B_sentry2_tarj_detec.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque Sentry2 Tarjeta detectada" src="../../img/CoCube/B_sentry2_tarj_detec.png" /></a>  </p>
<p></center></p>
<p>Para facilitar el inicio, podemos configurar la lógica para que comience a comprobar después de pulsar el botón A. Ahora, solo hay que utilizar una combinación de bucles y sentencias condicionales para implementar diferentes procesamientos lógicos para diferentes etiquetas de tarjeta, como se muestra en la figura siguiente, que incluye el manejo de la parada con semáforo en rojo, el avance con semáforo en verde y el estacionamiento:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/CoCube/P_ejem_base_signals.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Programación de ejemplo base" src="../../img/CoCube/P_ejem_base_signals.png" /></a><br />
<strong><a href="../../program/cocube/CoCube_trafico_ini.ubp">Descargar el programa</a></strong></p>
<p></center></p>
<h2 id="programa-para-seguir-las-senales-de-trafico"><FONT COLOR=#007575><strong>Programa para seguir las señales de tráfico</strong></font><a class="headerlink" href="#programa-para-seguir-las-senales-de-trafico" title="Permanent link">&para;</a></h2>
<p><font color=#FF0000><strong>&#x2460;</strong></font> Conecta el IDE de MicroBlocks al robot CoCube a través de cable USB o por medios inalámbricos.</p>
<p><font color=#FF0000><strong>&#x2461;</strong></font> Debes agregar las bibliotecas <strong>Sentry2 AI camera</strong>, <strong>CoCube</strong> y <strong>CoCube module</strong>.</p>
<p><font color=#FF0000><strong>&#x2462;</strong></font> Debajo de un bloque sombrero "al empezar" coloca el bloque "activa la alimentación del módulo" para que la Sentry2 se alimente a través del conector I2C. A continuación inicializa la interfaz I2C y coloca una espera de 4 segundos para dar tiempo a que el módulo de la cámara se inicie correctamente y, a continuación, establece el modo de algoritmo de la cámara en modo card para el reconocimiento de tarjetas.</p>
<p><font color=#FF0000><strong>&#x2463;</strong></font> Bajo un bloque sombrero "cuando se pulse el botón..." se comprueba continuamente si se detecta alguna de las tarjetas. Si es cierto el robot realiza la tarea correspondiente a la tarjeta detectada.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/CoCube/P_trafico.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Programa para seguir las señales de tráfico" src="../../img/CoCube/P_trafico.png" /></a><br />
<strong><a href="../../program/cocube/CoCube_trafico.ubp">Descargar el programa</a></strong></p>
<p></center></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; Copyright y copia; 2025 Federico Coca – <a href="#consent">Cambiar configuración de cookies</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>Consentimiento de cookies</h4>
<p>Se utilizan cookies para reconocer las visitas repetidas y sus preferencias, así como para medir la eficacia de nuestra documentación y si los usuarios encuentran lo que buscan. Al aceptar, nos ayuda a mejorar nuestra documentación.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Aceptar</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Rechazar</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Gestionar cookies</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs.sticky", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
        <script src="../../plugins/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>